{% extends "base.html" %}

{% block title %}
    <title>{{ template_core.name_text | title }}</title>
{% endblock title %}

{% block content %}

<div>

    <div class="col m-md-2 m-1"
        id="{{template_core.id}}-content"
        hx-swap="outerHTML"
        hx-target="this"
    >
        <h1>{{ template_core.name_text | title }}</h1>
        
        <ul>
            <li>Purpose: {{ template_core.purpose_text }}</li>
            <li>Created at:{{ template_core.created_at }}</li>
            <li>Updated at:{{ template_core.updated_at }}</li>
        </ul>
        <button 
            class="btn btn-a11y"
            hx-get="/{{ lang }}/edit_template_core_form/{{ template_core.id }}" 
            >
                Edit
        </button>
    </div>
    
    <hr>
    
    <h2>{{ fluent(key="sections", lang=lang )}}</h2>
    
    {% for key, template_section in template_sections %}
    
    <div 
        id="{{template_section.id}}-content"
        hx-swap="outerHTML"
        hx-target="this"
    >
    <button
        hx-get="/{{ lang }}/edit_template_section/{{ template_section.id }}" 
        class="btn">
                Edit
        </button>
        <h3>{{ template_section.header_text | title }}</h3>
        <ul>
            <li>{{ fluent(key="section-order-number", lang=lang, number=template_section.order_number )}}</li>
            <li>{{ fluent(key="section-instructions", lang=lang )}} {{ template_section.instructions_text }}</li>
            <li>{{ fluent(key="section-help-text", lang=lang )}} {{ template_section.help_text }}</li>
            <li>{{ fluent(key="section-character-limit", lang=lang, limit=template_section.character_limit )}}</li>
        </ul>
    </div>
        <hr>
    
    {% endfor %}

</div>

{% endblock content %}